class chatEngine{constructor(e){this.userName=e,this.socket=io.connect("http://localhost:5000"),this.userName&&this.connect()}connect(){let e=$("#textarea"),o=$(".message-area"),s=this;function n(e,s){let n=$("<div>").addClass([s,"message"]),t=`\n                 <h4>${e.username}</h4>\n                 <p>${e.message}</p>\n            `;n.html(t),o.append(n)}function t(){o[0].scrollTop=o[0].scrollHeight}console.log(this),this.socket.on("connect",(function(){console.log("connection established using sockets...!"),s.socket.emit("join_room",{user_name:s.userName,chat_room:"codeial"}),s.socket.on("user_joined",(function(e){console.log("New User Joined",e.user_name)}))})),e.keyup((function(o){"enter"!=o.key&&"Enter"!=o.key||function(o){let c={username:s.userName,message:o.trim(),chat_room:"codeial"};""!=c.message&&(n(c,"outgoing"),$(e).val(""),t(),s.socket.emit("send_message",c))}($(o.target).val())})),s.socket.on("receive_message",(function(e){n(e,"incoming"),t()}))}}